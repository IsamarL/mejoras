{% extends 'baseadmin.html' %}

{% block title %}Agregar Producto{% endblock %}

{% block body %}

<!-- ALERTAS CON SWEETALERT2 -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <script>
        Swal.fire({
          toast: true,
          position: 'top-end',
          icon: '{{ category }}',
          title: '{{ message }}',
          showConfirmButton: false,
          timer: 2000,
          timerProgressBar: true
        });
      </script>
    {% endfor %}
  {% endif %}
{% endwith %}

<div class="container py-5">
  <div class="card shadow-lg card-product">
    <div class="card-header bg-gradient-primary text-white text-center">
      <h4>Registrar Nuevo Producto</h4>
    </div>
    <div class="card-body p-4">
      <form action="{{ url_for('listar_productos_agregados') }}" method="POST">

        <div class="form-floating mb-3 position-relative">
          <input type="text" class="form-control" name="nombre" placeholder="Nombre del producto" required>
          <label><i class="bi bi-tag-fill me-2"></i>Nombre del producto</label>
        </div>

        <div class="form-floating mb-3 position-relative">
          <textarea class="form-control" name="descripcion" placeholder="Descripción" style="height: 100px" required></textarea>
          <label><i class="bi bi-card-text me-2"></i>Descripción</label>
        </div>

        <div class="form-floating mb-3 position-relative">
          <input type="number" step="0.01" class="form-control" name="precio" placeholder="Precio" required>
          <label><i class="bi bi-currency-dollar me-2"></i>Precio</label>
        </div>

        <div class="form-floating mb-4 position-relative">
          <input type="number" class="form-control" name="stock" placeholder="Stock" required>
          <label><i class="bi bi-box-seam me-2"></i>Stock</label>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-gradient-success btn-lg me-2">
            <i class="bi bi-save-fill me-1"></i>Guardar Producto
          </button>
          <a href="{{ url_for('listar_productos') }}" class="btn btn-gradient-secondary btn-lg">
            <i class="bi bi-x-circle-fill me-1"></i>Cancelar
          </a>
        </div>

      </form>
    </div>
  </div>
</div>

<!-- ESTILOS MODERNOS -->
<style>
.card-product {
  border-radius: 15px;
  background: linear-gradient(145deg, #e3f2fd, #bbdefb);
  transition: transform 0.3s, box-shadow 0.3s;
}
.card-product:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.3);
}

.bg-gradient-primary {
  background: linear-gradient(135deg, #1e3c72, #2a5298) !important;
}

.btn-gradient-success {
  background: linear-gradient(135deg, #43e97b, #38f9d7);
  color: white;
  transition: all 0.3s ease;
}
.btn-gradient-success:hover { transform: translateY(-3px) scale(1.05); }

.btn-gradient-secondary {
  background: linear-gradient(135deg, #b0bec5, #78909c);
  color: white;
  transition: all 0.3s ease;
}
.btn-gradient-secondary:hover { transform: translateY(-3px) scale(1.05); }

.btn-gradient-success:active,
.btn-gradient-secondary:active {
  transform: scale(0.95);
}

/* Animación iconos en inputs */
.form-control:focus + label i,
.form-control:not(:placeholder-shown) + label i {
  color: #1e3c72;
  animation: bounce 0.5s;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}
</style>

{% endblock %}
