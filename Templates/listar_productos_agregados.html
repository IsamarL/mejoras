{% extends 'baseadmin.html' %}

{% block title %}Agregar Producto{% endblock %}

{% block body %}

<!-- ALERTAS CON SWEETALERT2 -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <script>
        Swal.fire({
          toast: true,
          position: 'top-end',
          icon: '{{ category }}',
          title: '{{ message }}',
          showConfirmButton: false,
          timer: 2000,
          timerProgressBar: true
        });
      </script>
    {% endfor %}
  {% endif %}
{% endwith %}

<div class="container p-5 mt-3">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4 class="text-center">Registrar Nuevo Producto</h4>
    </div>
    <div class="card-body">
      <form action="{{ url_for('listar_productos_agregados') }}" method="POST">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" name="nombre" placeholder="Nombre del producto" required>
          <label>Nombre del producto</label>
        </div>
        <div class="form-floating mb-3">
          <textarea class="form-control" name="descripcion" placeholder="Descripción" style="height: 100px" required></textarea>
          <label>Descripción</label>
        </div>
        <div class="form-floating mb-3">
          <input type="number" step="0.01" class="form-control" name="precio" placeholder="Precio" required>
          <label>Precio</label>
        </div>
        <div class="form-floating mb-3">
          <input type="number" class="form-control" name="stock" placeholder="Stock" required>
          <label>Stock</label>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-success">Guardar Producto</button>
          <a href="{{ url_for('listar_productos') }}" class="btn btn-secondary">Cancelar</a>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}